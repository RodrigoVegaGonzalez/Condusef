@using System.Globalization;
@model Condusef_DLL.Funciones.Condusef.Empresa;
@{
    ViewBag.Title = "Cambiar contraseña";
    ViewBag.TituloCard = "";
    Layout = "~/Views/Shared/_LayoutLogin.cshtml";
    var cultura = new CultureInfo(@ViewData["Lang"].ToString() ?? "es");
    var rm = new System.Resources.ResourceManager(typeof(IdiomaCondusef_DLL.Registro.Registro));
    var rs = rm.GetResourceSet(cultura, true, true);
}

<div class="container-fluid my-3 px-5">
    <div class="card my-3">
        <div class="card-header center-content">
            <h5 class="header">¿Olvidó su contraseña?</h5>
        </div>
        <div class="card-body p-4">
            <div class="flex-row row">
                <div class="col-4">
                    @Html.Label("", string.Format("{0}", "Ingrese su código de verificación"), htmlAttributes: new { @class = "control-label mb-2" })
                    <div class="col nopadding">
                        <div class="input-group">
                            <input type="text" id="otp" class="form-control" placeholder="Ingrese su código OTP" required />
                        </div>
                    </div>
                </div>
                <div class="col-4">
                    <div class="form-group">
                        <label class="mb-2" for="password">Nueva contraseña</label>
                        <div class="input-group mb-3">
                            <span class="input-group-text" id="basic-addon1"><i class="fa-solid fa-lock"></i></span>
                            <input type="password" class="form-control" id="new-password" placeholder="Escriba su nueva contraseña" aria-label="Username" aria-describedby="basic-addon1" required>
                            <span class="input-group-text" id="" onclick="cambiarIconoPassword(this)">
                                <i class="fa-solid fa-eye icon-blue"></i>
                            </span>
                        </div>
                    </div>
                </div>
                <div class="col-4">
                    <div class="form-group">
                        <label class="mb-2" for="password">Confirme su contraseña</label>
                        <div class="input-group mb-3">
                            <span class="input-group-text" id="basic-addon1"><i class="fa-solid fa-lock"></i></span>
                            <input type="password" class="form-control" id="confirm-new-password" placeholder="Escriba su nueva contraseña" aria-label="Username" aria-describedby="basic-addon1" required>
                            <span class="input-group-text" id="" onclick="cambiarIconoPassword2(this)">
                                <i class="fa-solid fa-eye icon-blue"></i>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="flex-row row">
                <div class="text-center mt-3">
                    <span>¿Caducó su código de verificación?
                        <a asp-area="" asp-controller="Home" asp-action="ForgotPassword" class="ms-2">
                            Solicite uno nuevo
                        </a>
                    </span>
                </div>
            </div>
        </div>
        <div class="card-footer">
            <button id="btn_enviarSolicitud" class="btn btn-login w-100">Cambiar contraseña</button>
        </div>
    </div>
</div>

@section Scripts {
    <script type="text/javascript">
        var urlSolicitarCambio = '@Url.Action("Cambiar_Password_Usuario", "Home", new { area = "" })';
        var textoScript = {
            primero: `@Html.Raw(rs.GetString("TPrimero"))`,
            anterior: `@Html.Raw(rs.GetString("TAnterior"))`,
            siguiente: `@Html.Raw(rs.GetString("TSiguiente"))`,
            ultimo: `@Html.Raw(rs.GetString("TUltimo"))`,
            inicio: `@Html.Raw(rs.GetString("TInicio"))`,
            mostrar: `@Html.Raw(rs.GetString("Mostrar"))`,
            buscar: `@Html.Raw(rs.GetString("Buscar"))`,
            buscando: `@Html.Raw(rs.GetString("Buscando"))`,
            cargandoRegistros: `@Html.Raw(rs.GetString("CargandoRegistros"))`,
            sinDatos: `@Html.Raw(rs.GetString("TSinDatos"))`,
            noseencontraron: `@Html.Raw(rs.GetString("NoSeEncontraron"))`,


            ErrorGenerico: `@Html.Raw(rs.GetString("ErrorGenerico"))`,
        }
    </script>

    <script src="~/js/Generales/fntGenericas.js"></script>
    <script src="~/js/Home/cambiarPassword.js"></script>
}
